---
title: "01 knapsack"
date: 2021-10-20 21:00:32 +0800
layout: post
tags: [algorithm]
---

# What is 01 knapsack problem
{% youtube "https://youtu.be/iS56V0aXnhM" %}

# Templates

```ruby
require "gem"

number = 0
regexp = /[abc]/

# This is a comment
class Person
  
  attr_accessor :name
  
  def initialize(attributes = {})
    @name = attributes[:name]
  end
  
  def self.greet
    "hello"
  end
end

person1 = Person.new(:name => "Chris")
puts "#{Person::greet} #{person1.name}\n"
```

#### Memo
```java
int knapsack01(int[] W, int[] V, int i, int capacity, int[][] memo) {
  if (i < 0) return 0;
  if (memo[i][capacity] != 0) return memo[i][capacity];
  
  if (W[i] <= capacity) {
    int take = knapsack01(W, V, i - 1, capacity - W[i], memo) + V[i];
    int noTake = knapsack01(W, V, i - 1, capacity, memo);

    return memo[i][capacity] = Math.max(take, noTake);
  }

  return memo[i][capacity] = knapsack01(W, V, i - 1, capacity, memo);
}
```

#### DP (2d)
```java
int knapsack01(int[] W, int[] V, int n, int capacity) {
  int[][] dp = new int[n][capacity + 1];

  for (int j = W[0]; j <= capacity; j++) {
    dp[0][j] = V[0];
  }

  for (int i = 1; i < n; i++) {
    for (int j = 0; j <= capacity; j++) {
      if (W[i] <= j) {
        dp[i][j] = Math.max(dp[i - 1][j], dp[i - 1][j - W[i]] + V[i]);
      } else {
        dp[i][j] = dp[i - 1][j];
      }
    }
  } 

  return dp[n - 1][capacity];
}
```

#### DP (1d)
```java
int knapsack01(int[] W, int[] V, int n, int capacity) {
  int[] dp = new int[capacity + 1];

  for (int i = 0; i < n; i++) {
    for (int j = capacity; j >= W[i]; j--) {
      dp[j] = Math.max(dp[j], dp[j - W[i]] + V[i]);
    }
  } 

  return dp[capacity];
}
```
